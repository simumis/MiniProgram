"use strict";var e=require("../../common/vendor.js"),t=require("../../common/jif97.js");const n={data:()=>({select1:["p-压力","t-温度","h-比焓"],index1:0,select1_name:["p","t","h"],unit1:"MPa",select2:["t-温度","h-比焓","s-比熵","x-干度"],index2:0,select2_name:["t","h","s","x"],unit2:"℃",value1:"",value2:"",results:[{name:"分区",val:"",unit:"-"},{name:"压力",val:"",unit:"MPa"},{name:"温度",val:"",unit:"℃"},{name:"比容",val:"",unit:"m³/kg"},{name:"密度",val:"",unit:"kg/m³"},{name:"内能",val:"",unit:"kJ/kg"},{name:"比焓",val:"",unit:"kJ/kg"},{name:"比熵",val:"",unit:"kJ/(kg·℃)"},{name:"定容比热",val:"",unit:"kJ/(kg·℃)"},{name:"定压比热",val:"",unit:"kJ/(kg·℃)"},{name:"声速",val:"",unit:"m/s"},{name:"干度",val:"",unit:"kg/kg"}],notes:["1、基于国际水和水蒸气性质协会（IAPWS）发布的工业用水和水蒸汽热力性质计算公式 IAPWS-IF97 [IAPWS R7-97(2012)]制作。","2、数据有效区域：当 0℃ ≤ t ≤ 800℃ 时，611.213Pa ≤ p ≤ 100MPa；当 800℃ ≤ t ≤ 2000℃ 时，611.213Pa ≤ p ≤ 50MPa。","3、点击数据输入栏左侧的参数类型，选择相应的参数组合，输入有效数值后点击“开始计算”按钮，即可在结果区查看计算结果。如果输入有误，则会弹出提示信息。","4、“x-干度”参数仅适用于饱和蒸汽区，代表每千克湿蒸汽中含有干饱和蒸汽的质量，取值范围为 [0-1]。","5、当处于湿蒸汽区时，不太清楚如何计算声速 w，因此仅以 “NaN”（代表 Not a Number） 显示；而对于其它区，干度 x 没有意义，也以 “NaN” 显示。"]}),onLoad(){},methods:{onSelect1:function(e){let t=e.detail.value;t!=this.index1&&(this.index1=t,this.unit1=["MPa","℃","kJ/kg"][t],this.index2=0,0==t?(this.select2=["t-温度","h-比焓","s-比熵","x-干度"],this.select2_name=["t","h","s","x"],this.unit2="℃"):1==t?(this.select2=["x-干度"],this.select2_name=["x"],this.unit2="kg/kg"):2==t?(this.select2=["s-比熵"],this.select2_name=["s"],this.unit2="kJ/(kg·℃)"):console.log("Wrong index of select 1 in function setupSelect2: ",t))},onSelect2:function(e){let t=e.detail.value;t!=this.index2&&(this.index2=t,0==this.index1?this.unit2=["℃","kJ/kg","kJ/(kg·℃)","kg/kg"][t]:1==this.index1?this.unit2="kg/kg":2==this.index1?this.unit2="kJ/(kg·℃)":console.log("Wrong index of select 1 in function onSelect2: ",this.index1))},onCalc:function(){let n=this.select1_name[this.index1],i=this.select2_name[this.index2],l=parseFloat(this.value1),s=parseFloat(this.value2),a=t.props(n,l,i,s);if(null==a){for(let e of this.results)e.val="";return void e.index.showModal({title:"警告",content:"请检查输入数据是否在有效范围。",showCancel:!1})}let u=["rgn","p","t","v","d","u","h","s","cv","cp","w","x"];this.results[0].val=a.rgn;for(let e=1;e<this.results.length;e++){let t;t="d"==u[e]?1/a.v:a[u[e]],"p"==u[e]?t/=1e6:"t"==u[e]?t-=273.15:"u"!=u[e]&&"h"!=u[e]&&"s"!=u[e]&&"cv"!=u[e]&&"cp"!=u[e]||(t/=1e3),this.results[e].val=t.toPrecision(6)}}}};var i=e._export_sfc(n,[["render",function(t,n,i,l,s,a){return{a:e.t(s.select1[s.index1]),b:e.o(((...e)=>a.onSelect1&&a.onSelect1(...e))),c:s.index1,d:s.select1,e:s.value1,f:e.o((e=>s.value1=e.detail.value)),g:e.t(s.unit1),h:e.t(s.select2[s.index2]),i:e.o(((...e)=>a.onSelect2&&a.onSelect2(...e))),j:s.index2,k:s.select2,l:s.value2,m:e.o((e=>s.value2=e.detail.value)),n:e.t(s.unit2),o:e.o(((...e)=>a.onCalc&&a.onCalc(...e))),p:""==s.value1||""==s.value2,q:e.f(s.results,((t,n,i)=>({a:e.t(n),b:e.t(t.name),c:e.t(t.val),d:e.t(t.unit),e:n}))),r:e.f(s.notes,((t,n,i)=>({a:e.t(t)})))}}]]);wx.createPage(i);
