"use strict";var t=require("../../common/vendor.js"),e=require("../../condenser.js"),a=require("../../common/jif97.js");const u={data:()=>({input_text:[{name:"凝汽器热负荷",value:"1100",default:"1100",unit:"MW"},{name:"冷却水入口温度",value:"20",default:"20",unit:"℃"},{name:"冷却水流量",value:"25000",default:"25000",unit:"kg/s"},{name:"冷却水比热",value:"4.18",default:"4.18",unit:"kJ/(kg·℃)"},{name:"凝汽器换热面积",value:"54000",default:"54000",unit:"㎡"},{name:"冷却管外径",value:"25",default:"25",unit:"mm"},{name:"冷却管壁厚",value:"0.5",default:"0.5",unit:"mm"},{name:"冷却管数量",value:"55000",default:"55000",unit:"根"},{name:"流程数",value:"2",default:"2",unit:""},{name:"清洁系数",value:"0.85",default:"0.85",unit:""},{name:"冷却水密度",value:"1000",default:"1000",unit:"kg/m³"}],tube_materials:["HSn70-1(锡黄铜)","HA177-2(铝黄铜)","BFe30-1-1(铁白铜)","BFe10-1-1(铁白铜)","碳钢","TP304,TP316,TP317(不锈钢)","TA1,TA2(钛合金)"],material_index:-1,results:[{name:"凝汽器饱和温度",value:"",unit:"℃"},{name:"凝汽器饱和压力",value:"",unit:"kPa"},{name:"冷却水出口温度",value:"",unit:"℃"},{name:"冷却水温升",value:"",unit:"℃"},{name:"凝汽器端差",value:"",unit:"℃"}],notes:["1、本程序依据《凝汽器与真空系统运行维护导则》(DL/T 932-2019)所列方法编制。","2、本程序根据标准公式计算凝汽器变工况特性，未对特定凝汽器进行校核，计算结果仅供参考。"]}),onLoad(){this.material_index=this.tube_materials.length-1},methods:{onMaterialSelect:function(t){let e=t.detail.value;this.material_index=e},onCalc:function(u){let l,i=parseFloat(this.input_text[0].value),n=parseFloat(this.input_text[1].value),s=parseFloat(this.input_text[2].value),o=parseFloat(this.input_text[3].value),r=parseFloat(this.input_text[4].value),v=parseFloat(this.input_text[5].value),m=parseFloat(this.input_text[6].value),p=parseFloat(this.input_text[7].value),_=parseFloat(this.input_text[8].value),h=parseFloat(this.input_text[9].value),x=parseFloat(this.input_text[10].value),f=e.velocity(s,v,m,p,_,x);try{l=e.K0(v,f)}catch(w){t.index.showModal({title:"警告",content:w.message,showCancel:!1});for(let t of this.results)t.value="";return}let d=e.bt(n),c=e.bm(this.material_index,m),F=e.K(l,d,c,h),b=e.satTemperature(i,n,s,o,r,F),P=a.setupTX(b,1);if(null==P){for(let t of this.results)t.value="";return void t.index.showModal({title:"警告",content:"请检查输入数据是否在有效范围。",showCancel:!1})}let g=P.p/1e3,C=e.tw2(i,n,s,o),T=C-n,k=b-C;this.results[0].value=b.toPrecision(4),this.results[1].value=g.toPrecision(4),this.results[2].value=C.toPrecision(4),this.results[3].value=T.toPrecision(4),this.results[4].value=k.toPrecision(4)},onReset:function(t){for(let e of this.input_text)e.value=e.default;this.material_index=this.tube_materials.length-1;for(let e of this.results)e.value=""},onClear:function(t){for(let e of this.input_text)e.value="";for(let e of this.results)e.value=""}}};var l=t._export_sfc(u,[["render",function(e,a,u,l,i,n){return{a:t.f(i.input_text,((e,a,u)=>({a:t.t(e.name),b:e.value,c:t.o((t=>e.value=t.detail.value)),d:t.t(e.unit),e:a}))),b:t.t(i.tube_materials[i.material_index]),c:t.o(((...t)=>n.onMaterialSelect&&n.onMaterialSelect(...t))),d:i.material_index,e:i.tube_materials,f:t.o(((...t)=>n.onCalc&&n.onCalc(...t))),g:""==i.input_text[0].value||""==i.input_text[1].value||""==i.input_text[2].value||""==i.input_text[3].value||""==i.input_text[4].value||""==i.input_text[5].value||""==i.input_text[6].value||""==i.input_text[7].value||""==i.input_text[8].value||""==i.input_text[9].value||""==i.input_text[10].value,h:t.o(((...t)=>n.onClear&&n.onClear(...t))),i:t.o(((...t)=>n.onReset&&n.onReset(...t))),j:t.f(i.results,((e,a,u)=>({a:t.t(e.name),b:t.t(e.value),c:t.t(e.unit),d:a}))),k:t.f(i.notes,((e,a,u)=>({a:t.t(e)})))}}]]);wx.createPage(l);
